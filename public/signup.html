<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up</title>
     <script src="https://cdn.tailwindcss.com"></script>
     <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body class="bg-neutral-900">
    <div class="flex items-center justify-center h-screen">
          <div class="bg-[#F6527E] text-white flex flex-col p-6 rounded-lg w-1/3 h-full shadow-[0_0_25px_rgba(236,72,153,0.8)]">
            <h1 class="text-4xl font-bold">Sign up page</h1>

            <form action="http://localhost:5000/add" method="POST">
   <ul class="from-pink-500 to-black text-white flex flex-col items-center justify-center rounded-lg mt-40">
     <li>
        <label class="block">Email:</label>
        <input id="email" class="rounded-lg w-80 h-10 text-black" type="text" placeholder=" Enter email">
    </li>
    <li>
        <label class="block">Username:</label>
        <input id="user"  class="rounded-lg w-80 h-10 text-black" type="text" placeholder=" Enter username">
    </li>
     <li>
        <label class="block">Password:</label>
        <input id="password" class="rounded-lg w-80 h-10 text-black" type="text" placeholder=" Enter password">
    </li>
        <li>
      <button type="button" onclick="signup()" class="mt-20 mr-10 bg-white text-pink-600 w-full py-2 rounded font-semibold hover:bg-gray-200">
        Sign up
      </button>
      <p class="text-sm text-center mt-6">
  You already have an account? 
  <a href="login.html" class="text-white font-semibold underline hover:text-gray-200">
     Login
  </a>
   </p>

    </li>




   </ul>
</form>
  </div>
    </div>
    <script>
async function signup(){
  const user = document.getElementById("user").value;
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  
  if (!user || !email || !password) {
    return alert("⚠️ All fields are required");
  }

  try {
    const res = await axios.post("http://localhost:5000/add", {
      username: user,
      email: email,
      password: password
    });

    if (res.data.success) {
     
      window.location.href = "homee.html";
    } else {
    
      alert(res.data.message || "❌ User already exists");
    }
  } catch (err) {
    console.error("❌ Error:", err);
    alert("⚠️ Server error, check console");
  }
}
   


    </script>
</body>

</html>