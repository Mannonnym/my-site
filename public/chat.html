<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
      <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
 

  <div class="flex h-screen">
  <!-- Left sidebar -->
  <div class="w-1/4 bg-pink-500 text-white p-4">
    <h2 class="text-xl font-bold mb-4">Messages</h2>
    <ul id="chatList" class="space-y-2">
  <li class="p-2 rounded-lg">
    <input id="searchInput" 
           type="text" 
           placeholder="Search friend..."
           class="w-full p-2 rounded-lg text-black" />
    <button onclick="searchFriend()" 
            class="bg-black text-pink-500 hover:bg-gray-800 mt-2 w-full rounded-lg">
            
      Add Friend
    </button>
  </li>
</ul>

    </ul>
  </div>

  <!-- Main content -->
  <div class="flex-1 bg-black p-4 shadow-lg shadow-pink-500/50">
     <h1 class="text-2xl font-bold text-white">chat Window</h1>
  </div>
</div>
<script>
  async function searchFriend() {
    const input = document.getElementById("searchInput");
    const name = input.value.trim();
    const chatList = document.getElementById("chatList");

    if (!name) return;

    // Call backend to check if file exists
    const res = await fetch(`/search/${name}`);
    const data = await res.json();

    if (data.found) {
      // Create new li
      const newLi = document.createElement("li");
      newLi.className =
        "w-20 h-20 p-2 bg-pink-600 rounded-full cursor-pointer hover:bg-gray-700";
      newLi.innerText = data.username;

      chatList.appendChild(newLi);
      input.value = "";
    } else {
      alert("No account found with this name");
    }
  }
</script>
</body>
</html>